import{h}from"./moment.9709ab41.js";import{P as g}from"./vue-pagination-2.min.a2874229.js";import{_,W as f,r as y,o as n,c as r,a as e,w as c,v as d,b as p,t as a,a3 as b,a5 as v,j as k,k as x}from"./index.03d082ff.js";import{_ as P}from"./category.f4509476.js";const C={data(){return{category:[],rows:0,perPage:10,moment:h,currentPage:1,id:0,name:"",displayedit:!1,price:0}},components:{Pagination:g},computed:{...f(["currentpage"])},mounted(){this.refresh()},methods:{clickCallback(t){this.currentpage=t,this.$store.commit("assigncurrentpage",t),this.refresh()},refresh(){this.displayedit=!1,this.name="",axios.post("api/category/fetch").then(t=>this.processResponseProduct(t.data)).catch(t=>console.log(t))},processResponseProduct(t){this.category=t},submit(){if(this.name=="")alert("Enter the name filed to Submit");else{let t={id:this.id,name:this.name,price:this.price};axios.post("api/category/createupdate",t).then(s=>this.processResponse(s.data)).catch(s=>console.log(s))}},processResponse(){alert("Saved Successfully"),this.name="",this.refresh()},edit(t){this.id=t.id,this.name=t.name,this.displayedit=!0,this.price=t.price}}},w=x('<div class="headline mb-20"><div class="title flex-row-centered"><img src="'+P+'" class="img" width="20" height="20"><div class="title-span">Add Category</div></div><div class="flex-row-centered"></div></div>',1),V={class:"mt-30 boxshow"},S={class:"col-md-12"},N={class:"flex-center-row gap-20"},E=e("div",{class:"col-md-2"},[e("label",{for:""},"Add Category")],-1),R={class:"col-md-4"},A=e("label",{for:""},"Price",-1),B={key:0,style:{color:"#12f507"}},U={class:"col-md-12 mt-30"},D={class:"table-responsive"},j={class:"table",style:{"text-align":"center"}},F=e("thead",null,[e("th",null,"S.No"),e("th",null,"Name"),e("th",null,"Price"),e("th",null,"Edit")],-1),G=["onClick"],L=e("i",{class:"bx bx-edit",style:{color:"#12f507"}},null,-1),M=[L];function T(t,s,W,q,o,l){const m=y("pagination");return n(),r("div",null,[w,e("div",V,[e("div",S,[e("div",N,[E,e("div",R,[c(e("input",{type:"text",class:"form-control form-cascade-control input-small","onUpdate:modelValue":s[0]||(s[0]=i=>o.name=i)},null,512),[[d,o.name]])]),A,c(e("input",{type:"number",step:"0.2","onUpdate:modelValue":s[1]||(s[1]=i=>o.price=i),class:"form-control form-cascade-control input-small"},null,512),[[d,o.price]]),e("button",{type:"button",class:"btn btn-primary",onClick:s[2]||(s[2]=i=>l.submit())},"Submit"),o.displayedit==!0?(n(),r("button",{key:0,type:"button",class:"btn btn-danger",onClick:s[3]||(s[3]=i=>l.refresh())},"Cancel")):p("",!0)]),o.displayedit==!0?(n(),r("p",B,"Edititing Category "+a(o.name),1)):p("",!0)])]),e("div",U,[e("div",D,[e("table",j,[F,(n(!0),r(b,null,v(o.category,(i,u)=>(n(),r("tbody",{key:i.id},[e("td",null,a((o.currentPage-1)*o.perPage+(u+1)),1),e("td",null,a(i.name),1),e("td",null,a(i.price),1),e("td",null,[e("button",{onClick:z=>l.edit(i)},M,8,G)])]))),128))])]),k(m,{modelValue:o.currentPage,"onUpdate:modelValue":s[4]||(s[4]=i=>o.currentPage=i),records:o.rows,"per-page":o.perPage,onPaginate:l.clickCallback},null,8,["modelValue","records","per-page","onPaginate"])])])}const O=_(C,[["render",T]]);export{O as default};
