import{_ as b,W as _,o,c as a,a as t,w as d,a4 as v,a3 as u,a5 as h,t as r,b as p,v as c,k as y}from"./index.03d082ff.js";import{_ as f}from"./Constants.509ac60c.js";import{_ as x}from"./category.f4509476.js";const w={mixins:[f],data(){return{list:null,ajaxtype:0,id:0,type:0,label:"",labelid:"",sequence:0,value:"",show:!1}},mounted(){this.refresh()},computed:{gettypes1(){return this.master.filter(l=>l.type==this.ajaxtype)},valuelist(){if(this.list!=null){if(this.list[this.ajaxtype]==null){let l={type:this.ajaxtype};axios.post("api/master/values",l).then(s=>this.processResponse(s.data)).catch(s=>this.showError(s))}if(typeof this.list[this.ajaxtype]<"u")return this.list[this.ajaxtype].sort(function(l,s){return l.sequence-s.sequence})}return[]},valuelistforkey(){return this.list!=null?this.list[0]:[]},..._(["master"])},methods:{gettypes(l){return this.master.filter(s=>s.type==l)},edit(l){this.label=l.label,this.labelid=l.labelid,this.type=l.type,this.id=l.id,this.value=l.value,this.show=!0},onSubmit(){let l={id:this.id,type:this.type,label:this.label,labelid:this.labelid,value:this.value};axios.post("api/master/createupdate",l).then(s=>this.processSubmitResponse(s)).catch(s=>this.showError(s))},addnew(){this.id=0,this.type=0,this.label="",this.labelid=0,this.sequence=0,this.value="",this.type=this.ajaxtype,this.show=!0},processSubmitResponse(l){this.list==null&&(this.list={}),this.list=l,this.show=!1,this.refresh()},refresh(){this.$store.dispatch("fetchmaster");let l={type:0};this.ajaxtype=0,axios.post("api/master/values",l).then(s=>this.processResponse(s.data)).catch(s=>console.log(s))},showError(){this.$store.commit("assignloadingstatus",0),alert("Something went wrong, please try again.")},cancel(){this.show=!1}}},g=y('<div class="headline mb-20"><div class="title flex-row-centered"><img src="'+x+'" class="img" width="20" height="20"><div class="title-span">Masters</div></div><div class="flex-row-centered"></div></div>',1),k={key:0,class:"col-md-12"},S={class:"col-md-12"},j={class:"col-md-4 mt-10 mb-20",style:{"text-align":"right"}},V=t("option",{value:0},"Select",-1),C=["value"],N={class:"col-md-4 mt-10 text-center"},E=t("span",null," Add New ",-1),L=[E],U={class:"col-md-12"},q={class:"table-responsive"},M={class:"table",style:{"text-align":"center"}},R=t("thead",null,[t("tr",null,[t("th",null,"S.No."),t("th",null,"Label"),t("th",null,"LabelId"),t("th",null,"Value"),t("th")])],-1),B=["onClick"],A={key:1,class:"col-md-12 boxshow"},D=t("div",{class:"text-center"},[t("h2",null,"Add New ")],-1),I={class:"form-group row"},T=t("div",{class:"col-md-4"},[t("label",null," Type")],-1),F={class:"col-md-8"},G={class:"form-group row"},W=t("div",{class:"col-md-4"},[t("label",null," Label")],-1),z={class:"col-md-8"},H={class:"form-group row"},J=t("div",{class:"col-md-4"},[t("label",null,"Label Id")],-1),K={class:"col-md-8"},O={class:"form-group row"},P=t("div",{class:"col-md-4"},[t("label",null,"Value")],-1),Q={class:"col-md-8"},X={class:"flex-around-row"};function Y(l,s,Z,$,i,n){return o(),a("div",null,[g,i.show?p("",!0):(o(),a("div",k,[t("div",S,[t("div",j,[d(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>i.ajaxtype=e),class:"form-control"},[V,(o(!0),a(u,null,h(n.gettypes(0),e=>(o(),a("option",{value:e.labelid,key:e.id},r(e.label),9,C))),128))],512),[[v,i.ajaxtype]])]),t("div",N,[t("button",{onClick:s[1]||(s[1]=e=>n.addnew()),class:"btn btn-primary"},L)])]),t("div",U,[t("div",q,[t("table",M,[R,t("tbody",null,[(o(!0),a(u,null,h(n.gettypes1,(e,m)=>(o(),a("tr",{key:e.id},[t("td",null,r(m+1),1),t("td",null,r(e.label),1),t("td",null,r(e.labelid),1),t("td",null,r(e.value),1),t("td",null,[t("button",{onClick:tt=>n.edit(e),class:"btn btn-primary btn-sm"},"Edit",8,B)])]))),128))])])])])])),i.show?(o(),a("div",A,[D,t("div",I,[T,t("div",F,[d(t("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=e=>i.type=e),readonly:""},null,512),[[c,i.type]])])]),t("div",G,[W,t("div",z,[d(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=e=>i.label=e)},null,512),[[c,i.label]])])]),t("div",H,[J,t("div",K,[d(t("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=e=>i.labelid=e)},null,512),[[c,i.labelid]])])]),t("div",O,[P,t("div",Q,[d(t("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=e=>i.value=e)},null,512),[[c,i.value]])])]),t("div",X,[t("button",{class:"btn btn-primary btn-sm",style:{width:"10%"},onClick:s[6]||(s[6]=e=>n.onSubmit())},"Submit"),t("button",{type:"button",class:"btn btn-primary btn-sm",onClick:s[7]||(s[7]=e=>n.cancel())},"Cancel")])])):p("",!0)])}const it=b(w,[["render",Y]]);export{it as default};
