import{Q as x}from"./QSpinnerBars.8545c972.js";import{Q as g,a as w,b as S,c as k}from"./QDialog.8952d360.js";import{Q as z,H as U,G as V}from"./ClosePopup.56ffc66c.js";import{d as T,r as C}from"./index.esm.eae64ffd.js";import{y as P,o as a,c as r,_ as R,W as A,a as t,w as n,v as d,a4 as b,a3 as B,a5 as N,t as y,i as l,b as _,d as Q,j as m,X as p,k as D}from"./index.03d082ff.js";import{_ as v}from"./logo.eab0ac46.js";import"./create.f591e07d.js";const M={__name:"RazorPayGateway",props:{amount:T},emits:["submit"],setup(i,{emit:o}){const f=i;var u;const s=()=>{o("submit"),u.open()};return P(()=>{var c={key:"rzp_test_RzgXva5mYeb0gt",amount:f.amount*100,currency:"INR",name:"ScriptMint",description:"Test Transaction",image:"https://example.com/your_logo",handler:function(e){axios.post("PAYMENT_SUCCESS_API",{payment_id:e.razorpay_payment_id,order_id:e.razorpay_order_id}).then(function(h){}).catch(function(h){})},prefill:{name:"Customer Name",email:"customer.email@example.com",contact:"9999999999"},notes:{address:"Customer Address"},theme:{color:"#3399cc"}};u=new Razorpay(c),u.on("payment.failed",function(e){axios.post("PAYMENT_FAILURE_API",{payment_id:e.razorpay_payment_id,order_id:e.razorpay_order_id,code:e.error.code,description:e.error.description}).then(function(h){console.log("Payment response :"+h.data),this.$parent.openpayment=!1}).catch(function(h){})})}),(c,e)=>(a(),r("button",{style:{"background-color":"#46211b",width:"100%"},class:"btn text-white btn-lg",onClick:s},"Pay via Razorpay"))}},F="/assets/upipayment.e5a60846.jpg",I="/assets/acceptupi.0ac88859.png";const E={components:{RazorPayGateway:M},data(){return{spinner:!1,id:0,name:"",mobile:"",amount:"",address:"",transactiondate:"",donationtype:0,paymenttype:0,paymententry:[],receiptno:"",donationtoolbar:!1}},validations(){return{name:{required:C}}},computed:{...A(["edititem","donations"])},mounted(){this.$store.dispatch("fetchdonations"),this.initializedata()},methods:{submitpayment(){this.paymententry={receipt:this.receiptno,id:0},this.donationtoolbar=!1},selectfeestype(){if(this.feestype==1)return console.log(this.feestype),"background-color:#80ed25eb"},selectpaymentmode(){this.paymenttype==2?this.donationtoolbar=!0:(this.receiptno="",this.paymententry=[],this.donationtoolbar=!1)},initializedata(){this.edititem!=null?(this.id=this.edititem.id,this.name=this.edititem.name,this.mobile=this.edititem.mobile,this.amount=this.edititem.amount,this.address=this.edititem.address,this.transactiondate=this.edititem.transactiondate,this.donationtype=this.edititem.donationtype):(this.id=0,this.name="",this.mobile="",this.amount="",this.address="",this.transactiondate="",this.donationtype=0)},submit(){this.spinner=!0;{console.log(this.picture),this.$notify({text:"Submitted",type:"warn"});let i={mobileno:this.mobile,name:this.name,address:this.address,amount:this.amount,transactiondate:this.transactiondate,id:this.id,donationtype:this.donationtype,paymenttype:this.paymenttype};axios.post("api/form/donation/createupdate",i).then(o=>this.processResponse(o.data)).catch(o=>this.fetcherror(o))}},fetcherror(i){console.log(i),this.spinner=!1,alert("Please try after some time :"+i)},processResponse(){this.spinner=!1,this.$store.commit("assignedititem",[]),this.paymenttype==1&&this.initializedata(),this.$notify({text:"Data Submitted Successfully",type:"success"})},cancel(){this.spinner=!1,this.initializedata()}}},G={class:"container"},Y=D('<div class="col-md-12"><div class="text-center" style="margin-top:20px;"><div class="col-md-12 mb-30" style="text-align:center;"><h3 class="page-header"><img src="'+v+'" width="65" height="65"></h3></div></div></div>',1),W={class:"col-md-12 panel-width"},j={class:"panel-cascade"},L={class:"form-horizontal cascde-forms"},X={class:"flex-center-row align-items-center pt-20"},q=t("label",{class:"col-md-3 control-label"},[l("Recieved with thanks from Smt./Shri "),t("span",{style:{color:"red"}},"*")],-1),H={class:"col-md-6"},O={class:"flex-center-row align-items-center pt-20"},J=t("label",{class:"col-md-3 control-label"},[l("Mobile No."),t("span",{style:{color:"red"}},"*")],-1),K={class:"col-md-6"},Z={class:"flex-center-row align-items-center pt-20"},$=t("label",{class:"col-md-3 control-label"},[l("Address"),t("span",{style:{color:"red"}},"*")],-1),tt={class:"col-md-6"},et={class:"flex-center-row align-items-center pt-20"},ot=t("label",{class:"col-md-3 control-label"},"Donation Type",-1),st={class:"col-md-6"},nt=t("option",{value:"0"},"Select",-1),it=["value"],at={class:"flex-center-row align-items-center pt-20"},lt=t("label",{class:"col-md-3 control-label"},[l("Amount ("),t("i",{class:"bx bx-rupee"}),l(")"),t("span",{style:{color:"red"}},"*")],-1),rt={class:"col-md-6"},ct={class:"flex-center-row align-items-center pt-20 pb-20"},dt=t("label",{class:"col-md-3 control-label"},[l("Dated"),t("span",{style:{color:"red"}},"*")],-1),mt={class:"col-md-6"},pt={class:"flex-center-row align-items-center pt-20 mb-20"},ut=t("label",{class:"col-md-3 control-label"},"Pay By",-1),ht={class:"col-md-6"},_t=t("option",{value:"0"},"-----Select-----",-1),yt=t("option",{value:"1"},"By Cash",-1),ft=t("option",{value:"2"},"By Online",-1),bt=[_t,yt,ft],vt=t("p",{class:"panel-width pt-20",style:{"font-size":"14px","font-weight":"700"}},[t("span",{style:{color:"red"}},"*"),l(" as donation which is exempted from income tax U/S 80-G(5) (vi) of the I/Tax Act 1961 as per URN-AAFTS0274FE20211 dated 06-04-2022. It is a provisional receipt.Formal receipt follows. With the blessings of Bhagwan Shiv the winds may bring happiness & the directions may be favourable to you and ypur family. Shiv may live in ypur heart forever. ")],-1),xt={class:"flex-center-row pb-20"},gt={class:"amount-box"},wt={class:"box-content"},St={for:"fees1",class:"cursor-pointer"},kt=t("i",{class:"bx bx-rupee"},null,-1),zt={key:0,style:{color:"green","text-align":"center"}},Ut={key:1,style:{color:"red","text-align":"center"}},Vt=t("hr",null,null,-1),Tt={class:"col-md-12 pt-30 pb-40 flex-evenly-row"},Ct={class:"pl-20 pr-20 pt-10 flex-between-row align-items-center"},Pt=t("img",{src:v},null,-1),Rt=t("span",{class:"text-weight-bold"},"Shiv Bhakti Seva Trust",-1),At=t("img",{src:F,alt:"Upi Payment Scanner",width:"200",height:"200"},null,-1),Bt=t("img",{src:I,alt:"Upi Payment Scanner",width:"200",height:"100"},null,-1),Nt={for:""},Qt=t("br",null,null,-1),Dt=t("hr",null,null,-1),Mt={class:"col-md-12 pb-10 mt-10 flex-around-row"},Ft=t("label",{for:""},"Transaction Receipt No.",-1),It={class:"col-md-6"},Et=t("div",{class:"col-md-12 pb-10 mt-10 flex-around-row"},[t("label",{for:""},"Upload Receipt"),t("div",{class:"col-md-6"},[t("input",{type:"file"})])],-1),Gt={class:"col-md-12 text-center mb-20 mt-20"};function Yt(i,o,f,u,s,c){return a(),r("div",null,[t("div",G,[Y,t("div",W,[t("div",j,[t("div",L,[t("div",X,[q,t("div",H,[n(t("input",{class:"form-control input-small",type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>s.name=e)},null,512),[[d,s.name]])])]),t("div",O,[J,t("div",K,[n(t("input",{class:"form-control input-small","onUpdate:modelValue":o[1]||(o[1]=e=>s.mobile=e),type:"number"},null,512),[[d,s.mobile]])])]),t("div",Z,[$,t("div",tt,[n(t("textarea",{class:"form-control input-small","onUpdate:modelValue":o[2]||(o[2]=e=>s.address=e),type:"text"},null,512),[[d,s.address]])])]),t("div",et,[ot,t("div",st,[n(t("select",{class:"form-control input-small","onUpdate:modelValue":o[3]||(o[3]=e=>s.donationtype=e)},[nt,(a(!0),r(B,null,N(i.donations,e=>(a(),r("option",{key:e.id,value:e.id},y(e.donationname),9,it))),128))],512),[[b,s.donationtype]])])]),t("div",at,[lt,t("div",rt,[n(t("input",{class:"form-control input-small","onUpdate:modelValue":o[4]||(o[4]=e=>s.amount=e),type:"number"},null,512),[[d,s.amount]])])]),t("div",ct,[dt,t("div",mt,[n(t("input",{class:"form-control input-small","onUpdate:modelValue":o[5]||(o[5]=e=>s.transactiondate=e),type:"date",max:"16"},null,512),[[d,s.transactiondate]])])]),t("div",pt,[ut,t("div",ht,[n(t("select",{class:"form-control input-small","onUpdate:modelValue":o[6]||(o[6]=e=>s.paymenttype=e),onChange:o[7]||(o[7]=e=>c.selectpaymentmode())},bt,544),[[b,s.paymenttype]])])]),vt]),t("div",xt,[t("div",gt,[t("div",wt,[t("label",St,[kt,l(y(s.amount),1)])])])]),s.receiptno!=""?(a(),r("h4",zt,"Thanku for your Donation")):_("",!0),s.receiptno!=""?(a(),r("p",Ut,"* We will confirm the payment soon.")):_("",!0),Vt,t("div",Tt,[s.spinner?(a(),Q(x,{key:0,style:{width:"50%"},color:"primary",size:"2em"})):_("",!0),t("span",null,[s.spinner==!1?(a(),r("input",{key:0,type:"submit",name:"MYSUBMIT",onClick:o[8]||(o[8]=e=>c.submit()),value:"Submit",style:{"background-color":"#46211b",width:"100%"},class:"btn text-white btn-lg"})):_("",!0)])])])])]),m(k,{modelValue:s.donationtoolbar,"onUpdate:modelValue":o[11]||(o[11]=e=>s.donationtoolbar=e),width:300},{default:p(()=>[m(g,{style:{width:"600px"}},{default:p(()=>[t("div",Ct,[m(w,null,{default:p(()=>[Pt]),_:1}),m(z,null,{default:p(()=>[Rt]),_:1}),n(m(V,{flat:"",round:"",dense:"",icon:"close"},null,512),[[U]])]),m(S,null,{default:p(()=>[At,Bt,t("label",Nt,"Pay Sum of Rupees : "+y(s.amount),1),Qt]),_:1}),Dt,t("div",Mt,[Ft,t("div",It,[n(t("input",{type:"number",class:"form-control","onUpdate:modelValue":o[9]||(o[9]=e=>s.receiptno=e)},null,512),[[d,s.receiptno]])])]),Et,t("div",Gt,[t("button",{type:"button",class:"btn btn-success",onClick:o[10]||(o[10]=e=>c.submitpayment())},"Submit")])]),_:1})]),_:1},8,["modelValue"])])}const Jt=R(E,[["render",Yt]]);export{Jt as default};
